<?xml version="1.0" encoding="ISO-8859-1"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module name="Context2Evaluation">
    <inModels name="IN" metamodel="/1"/>
    <outModels name="OUT" metamodel="/2"/>
    <elements xsi:type="atl:MatchedRule" name="LoginRule2" isNoDefault="true">
      <outPattern>
        <elements xsi:type="atl:SimpleOutPatternElement" varName="t" variableExp="/0/@elements.0/@actionBlock/@statements.0/@value/@arguments.0/@elements.0">
          <type xsi:type="ocl:OclModelElement" name="Evaluation" model="/4"/>
          <bindings propertyName="effect">
            <value xsi:type="ocl:StringExp" stringSymbol="Permit"/>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock>
        <statements xsi:type="atl:BindingStat">
          <commentsBefore>--insert the Evaluation in the Output</commentsBefore>
          <source xsi:type="ocl:NavigationOrAttributeCallExp" name="evaluations">
            <source xsi:type="ocl:OperationCallExp" operationName="resolveTemp">
              <source xsi:type="ocl:VariableExp" referredVariable="/5"/>
              <arguments xsi:type="ocl:OperationCallExp" operationName="refImmediateComposite">
                <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
              </arguments>
              <arguments xsi:type="ocl:StringExp" stringSymbol="t"/>
            </source>
          </source>
          <value xsi:type="ocl:CollectionOperationCallExp" operationName="union">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" name="evaluations">
              <source xsi:type="ocl:OperationCallExp" operationName="resolveTemp">
                <source xsi:type="ocl:VariableExp" referredVariable="/6"/>
                <arguments xsi:type="ocl:OperationCallExp" operationName="refImmediateComposite">
                  <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                </arguments>
                <arguments xsi:type="ocl:StringExp" stringSymbol="t"/>
              </source>
            </source>
            <arguments xsi:type="ocl:SequenceExp">
              <elements xsi:type="ocl:VariableExp" referredVariable="/0/@elements.0/@outPattern/@elements.0"/>
            </arguments>
          </value>
        </statements>
      </actionBlock>
      <inPattern>
        <elements xsi:type="atl:SimpleInPatternElement" varName="s" variableExp="/0/@elements.0/@inPattern/@filter/@source/@source/@source/@source/@source/@source/@source/@source /0/@elements.0/@inPattern/@filter/@source/@arguments.0/@source/@source/@source/@source/@source /0/@elements.0/@inPattern/@filter/@arguments.0/@source/@source/@source/@source/@source /0/@elements.0/@actionBlock/@statements.0/@source/@source/@arguments.0/@source /0/@elements.0/@actionBlock/@statements.0/@value/@source/@source/@arguments.0/@source">
          <type xsi:type="ocl:OclModelElement" name="RequestType" model="/3"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" operationName="and">
            <source xsi:type="ocl:OperatorCallExp" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
                <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                    <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" name="subject">
                        <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                      </source>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" stringSymbol="AnySubject"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
                <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" name="resource">
                      <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" stringSymbol="AnyResource"/>
            </arguments>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
              <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="action">
                    <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.0/@inPattern/@elements.0"/>
                  </source>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:StringExp" stringSymbol="login"/>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" name="LoginRule" isNoDefault="true">
      <outPattern>
        <elements xsi:type="atl:SimpleOutPatternElement" varName="t" variableExp="/0/@elements.1/@actionBlock/@statements.0/@value/@arguments.0/@elements.0">
          <type xsi:type="ocl:OclModelElement" name="Evaluation" model="/8"/>
          <bindings propertyName="effect">
            <value xsi:type="ocl:StringExp" stringSymbol="Permit"/>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock>
        <statements xsi:type="atl:BindingStat">
          <commentsBefore>--insert the Evaluation in the Output</commentsBefore>
          <source xsi:type="ocl:NavigationOrAttributeCallExp" name="evaluations">
            <source xsi:type="ocl:OperationCallExp" operationName="resolveTemp">
              <source xsi:type="ocl:VariableExp" referredVariable="/9"/>
              <arguments xsi:type="ocl:OperationCallExp" operationName="refImmediateComposite">
                <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
              </arguments>
              <arguments xsi:type="ocl:StringExp" stringSymbol="t"/>
            </source>
          </source>
          <value xsi:type="ocl:CollectionOperationCallExp" operationName="union">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" name="evaluations">
              <source xsi:type="ocl:OperationCallExp" operationName="resolveTemp">
                <source xsi:type="ocl:VariableExp" referredVariable="/10"/>
                <arguments xsi:type="ocl:OperationCallExp" operationName="refImmediateComposite">
                  <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                </arguments>
                <arguments xsi:type="ocl:StringExp" stringSymbol="t"/>
              </source>
            </source>
            <arguments xsi:type="ocl:SequenceExp">
              <elements xsi:type="ocl:VariableExp" referredVariable="/0/@elements.1/@outPattern/@elements.0"/>
            </arguments>
          </value>
        </statements>
      </actionBlock>
      <inPattern>
        <elements xsi:type="atl:SimpleInPatternElement" varName="s" variableExp="/0/@elements.1/@inPattern/@filter/@source/@source/@source/@source/@source/@source/@source/@source /0/@elements.1/@inPattern/@filter/@source/@arguments.0/@source/@source/@source/@source/@source /0/@elements.1/@inPattern/@filter/@arguments.0/@source/@source/@source/@source/@source /0/@elements.1/@actionBlock/@statements.0/@source/@source/@arguments.0/@source /0/@elements.1/@actionBlock/@statements.0/@value/@source/@source/@arguments.0/@source">
          <type xsi:type="ocl:OclModelElement" name="RequestType" model="/7"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" operationName="and">
            <source xsi:type="ocl:OperatorCallExp" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
                <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                    <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" name="subject">
                        <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                      </source>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" stringSymbol="AnySubject"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
                <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" name="resource">
                      <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" stringSymbol="AnyResource"/>
            </arguments>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
              <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="action">
                    <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.1/@inPattern/@elements.0"/>
                  </source>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:StringExp" stringSymbol="login"/>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" name="LoginRuleDeny" isNoDefault="true">
      <outPattern>
        <elements xsi:type="atl:SimpleOutPatternElement" varName="t" variableExp="/0/@elements.2/@actionBlock/@statements.0/@value/@arguments.0/@elements.0">
          <type xsi:type="ocl:OclModelElement" name="Evaluation" model="/12"/>
          <bindings propertyName="effect">
            <value xsi:type="ocl:StringExp" stringSymbol="Deny"/>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock>
        <statements xsi:type="atl:BindingStat">
          <commentsBefore>--insert the Evaluation in the Output</commentsBefore>
          <source xsi:type="ocl:NavigationOrAttributeCallExp" name="evaluations">
            <source xsi:type="ocl:OperationCallExp" operationName="resolveTemp">
              <source xsi:type="ocl:VariableExp" referredVariable="/13"/>
              <arguments xsi:type="ocl:OperationCallExp" operationName="refImmediateComposite">
                <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
              </arguments>
              <arguments xsi:type="ocl:StringExp" stringSymbol="t"/>
            </source>
          </source>
          <value xsi:type="ocl:CollectionOperationCallExp" operationName="union">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" name="evaluations">
              <source xsi:type="ocl:OperationCallExp" operationName="resolveTemp">
                <source xsi:type="ocl:VariableExp" referredVariable="/14"/>
                <arguments xsi:type="ocl:OperationCallExp" operationName="refImmediateComposite">
                  <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
                </arguments>
                <arguments xsi:type="ocl:StringExp" stringSymbol="t"/>
              </source>
            </source>
            <arguments xsi:type="ocl:SequenceExp">
              <elements xsi:type="ocl:VariableExp" referredVariable="/0/@elements.2/@outPattern/@elements.0"/>
            </arguments>
          </value>
        </statements>
      </actionBlock>
      <inPattern>
        <elements xsi:type="atl:SimpleInPatternElement" varName="s" variableExp="/0/@elements.2/@inPattern/@filter/@source/@source/@source/@source/@source/@source/@source/@source /0/@elements.2/@inPattern/@filter/@source/@arguments.0/@source/@source/@source/@source/@source /0/@elements.2/@inPattern/@filter/@arguments.0/@source/@source/@source/@source/@source /0/@elements.2/@actionBlock/@statements.0/@source/@source/@arguments.0/@source /0/@elements.2/@actionBlock/@statements.0/@value/@source/@source/@arguments.0/@source">
          <type xsi:type="ocl:OclModelElement" name="RequestType" model="/11"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" operationName="and">
            <source xsi:type="ocl:OperatorCallExp" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
                <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                    <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                      <source xsi:type="ocl:NavigationOrAttributeCallExp" name="subject">
                        <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
                      </source>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" stringSymbol="AnySubject"/>
            </source>
            <arguments xsi:type="ocl:OperatorCallExp" operationName="=">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
                <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" name="resource">
                      <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
                    </source>
                  </source>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" stringSymbol="AnyResource"/>
            </arguments>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" operationName="=">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attributeId">
              <source xsi:type="ocl:CollectionOperationCallExp" operationName="first">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" name="attribute">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" name="action">
                    <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
                  </source>
                </source>
              </source>
            </source>
            <arguments xsi:type="ocl:StringExp" stringSymbol="login"/>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" name="DocumentRoot2Output">
      <outPattern>
        <elements xsi:type="atl:SimpleOutPatternElement" varName="t">
          <type xsi:type="ocl:OclModelElement" name="Output" model="/16"/>
          <bindings propertyName="evaluations">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" name="request">
              <source xsi:type="ocl:VariableExp" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern>
        <elements xsi:type="atl:SimpleInPatternElement" varName="s" variableExp="/0/@elements.3/@outPattern/@elements.0/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" name="DocumentRoot" model="/15"/>
        </elements>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel name="Context" model="/0/@inModels.0"/>
  <ocl:OclModel name="Evaluation" model="/0/@outModels.0"/>
  <ocl:OclModel name="Context" elements="/0/@elements.0/@inPattern/@elements.0/@type"/>
  <ocl:OclModel name="Evaluation" elements="/0/@elements.0/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration varName="thisModule" variableExp="/0/@elements.0/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:VariableDeclaration varName="thisModule" variableExp="/0/@elements.0/@actionBlock/@statements.0/@value/@source/@source/@source"/>
  <ocl:OclModel name="Context" elements="/0/@elements.1/@inPattern/@elements.0/@type"/>
  <ocl:OclModel name="Evaluation" elements="/0/@elements.1/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration varName="thisModule" variableExp="/0/@elements.1/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:VariableDeclaration varName="thisModule" variableExp="/0/@elements.1/@actionBlock/@statements.0/@value/@source/@source/@source"/>
  <ocl:OclModel name="Context" elements="/0/@elements.2/@inPattern/@elements.0/@type"/>
  <ocl:OclModel name="Evaluation" elements="/0/@elements.2/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration varName="thisModule" variableExp="/0/@elements.2/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:VariableDeclaration varName="thisModule" variableExp="/0/@elements.2/@actionBlock/@statements.0/@value/@source/@source/@source"/>
  <ocl:OclModel name="Context" elements="/0/@elements.3/@inPattern/@elements.0/@type"/>
  <ocl:OclModel name="Evaluation" elements="/0/@elements.3/@outPattern/@elements.0/@type"/>
</xmi:XMI>
